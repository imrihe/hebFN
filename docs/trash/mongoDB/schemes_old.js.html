<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" charset="utf-8">
    <title>hebFNServer</title>
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css">
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/docs.css">
    <style>
      body > .navbar .brand {
        float:left;
        text-shadow: rgba(255, 255, 255, 0.0980392) 0px 1px 0px, rgba(255, 255, 255, 0.4) 0px 0px 30px;
        color: white;
        margin-left:0px;
        font-weight:normal;
      }
      
      .bs-docs-sidenav i{
        width: 8px;
        height: 8px;
        padding: 0px;
        margin: 0px;
        display: inline-block;
        margin-right:0.5em;
      }
      
      .bs-docs-sidenav > li:first-child > a {
        border-top-right-radius: 6px;
        border-top-left-radius: 6px;
      }
      
      code[class*="language-"],pre[class*="language-"]{color:black;text-shadow:0 1px white;font-family:Consolas,Monaco,'Andale Mono',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*="language-"],pre[class*="language-"]{background:#f5f2f0}:not(pre)>code[class*="language-"]{padding:.1em;border-radius:.3em}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number{color:#905}.token.selector,.token.attr-name,.token.string{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.regex,.token.important{color:#e90}.token.important{font-weight:bold}.token.entity{cursor:help}
      div.description {margin: 14px 0; padding-top: 14px; border-bottom:1px solid #eee; }
      .tags {}
      .ctx-type {
        display:inline-block;
        margin-right:0.5em;
        //- float:right; margin-top:8px
      }
      
      footer iframe{vertical-align:middle;}
      
    </style>
  </head>
  <body data-spy="scroll" data-target=".scrollspy">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a class="brand">Doxx</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right sponsored"></ul>
          </div>
        </div>
      </div>
    </div>
    <header id="overview" class="jumbotron subhead">
      <div class="container">
        <h1>hebFNServer</h1>
        <p class="lead"></p>
      </div>
    </header>
    <div class="container">
      <div class="row">
        <div class="span3 bs-docs-sidebar">
          <ul class="nav nav-list bs-docs-sidenav affix-top">
            <li class=""><a href="../../index.html">Main</a></li>
            <li class=""><a href="../../app.js.html">app.js</a></li>
            <li class=""><a href="../../conf.js.html">conf.js</a></li>
            <li class=""><a href="../../controllers/auth.js.html">controllers/auth.js</a></li>
            <li class=""><a href="../../controllers/english.js.html">controllers/english.js</a></li>
            <li class=""><a href="../../controllers/externalTools.js.html">controllers/externalTools.js</a></li>
            <li class=""><a href="../../controllers/general.js.html">controllers/general.js</a></li>
            <li class=""><a href="../../controllers/hebrew.js.html">controllers/hebrew.js</a></li>
            <li class=""><a href="../../controllers/test.js.html">controllers/test.js</a></li>
            <li class=""><a href="../../controllers/users.js.html">controllers/users.js</a></li>
            <li class=""><a href="../../models/mongoDB/dbConnection.js.html">models/mongoDB/dbConnection.js</a></li>
            <li class=""><a href="../../models/schemes/english.js.html">models/schemes/english.js</a></li>
            <li class=""><a href="../../models/schemes/generalTypes.js.html">models/schemes/generalTypes.js</a></li>
            <li class=""><a href="../../models/schemes/hebrew.js.html">models/schemes/hebrew.js</a></li>
            <li class=""><a href="../../models/schemes/locals.js.html">models/schemes/locals.js</a></li>
            <li class=""><a href="../../models/schemes/test.js.html">models/schemes/test.js</a></li>
            <li class=""><a href="../../models/schemes/user.js.html">models/schemes/user.js</a></li>
            <li class=""><a href="../../routes/auth.js.html">routes/auth.js</a></li>
            <li class=""><a href="../../routes/english.js.html">routes/english.js</a></li>
            <li class=""><a href="../../routes/externalTools.js.html">routes/externalTools.js</a></li>
            <li class=""><a href="../../routes/general.js.html">routes/general.js</a></li>
            <li class=""><a href="../../routes/hebrewGetters.js.html">routes/hebrewGetters.js</a></li>
            <li class=""><a href="../../routes/hebrewSetters.js.html">routes/hebrewSetters.js</a></li>
            <li class=""><a href="../../routes/index.js.html">routes/index.js</a></li>
            <li class=""><a href="../../routes/users.js.html">routes/users.js</a></li>
            <li class=""><a href="../../tools/linearize.js.html">tools/linearize.js</a></li>
            <li class=""><a href="../../tools/mailer.js.html">tools/mailer.js</a></li>
            <li class=""><a href="../../tools/population.js.html">tools/population.js</a></li>
            <li class=""><a href="../../tools/utils.js.html">tools/utils.js</a></li>
            <li class=""><a href="../../trash/BUapp.js.html">trash/BUapp.js</a></li>
            <li class=""><a href="../../trash/hebrew.js.html">trash/hebrew.js</a></li>
            <li class=""><a href="../../trash/index.js.html">trash/index.js</a></li>
            <li class=""><a href="../../trash/index_old.js.html">trash/index_old.js</a></li>
            <li class=""><a href="../../trash/mongoDB/englishModel.js.html">trash/mongoDB/englishModel.js</a></li>
            <li class=""><a href="../../trash/mongoDB/general.js.html">trash/mongoDB/general.js</a></li>
            <li class=""><a href="../../trash/mongoDB/hebrewModel.js.html">trash/mongoDB/hebrewModel.js</a></li>
            <li class=""><a href="../../trash/mongoDB/locals.js.html">trash/mongoDB/locals.js</a></li>
            <li class=""><a href="../../trash/mongoDB/pull.js.html">trash/mongoDB/pull.js</a></li>
            <li class=""><a href="../../trash/mongoDB/push.js.html">trash/mongoDB/push.js</a></li>
            <li class="active"><a href="../../trash/mongoDB/schemes_old.js.html">trash/mongoDB/schemes_old.js</a></li>
            <li class=""><a href="../../trash/mongoDB/users.js.html">trash/mongoDB/users.js</a></li>
            <li class=""><a href="../../trash/mongoDB/users_old.js.html">trash/mongoDB/users_old.js</a></li>
            <li class=""><a href="../../trash/routes_old.js.html">trash/routes_old.js</a></li>
            <li class=""><a href="../../trash/routes_old2.js.html">trash/routes_old2.js</a></li>
          </ul>
          <div class="scrollspy">
            <ul class="nav nav-list bs-docs-sidenav affix-top">
              <li><a href="#IDType"><i class="alert alert-success"></i>IDType</a>
              </li>
              <li><a href="#semTypeRefType"><i class="alert alert-success"></i>semTypeRefType</a>
              </li>
              <li><a href="#internalFrameRelationFEType"><i class="alert alert-success"></i>internalFrameRelationFEType</a>
              </li>
              <li><a href="#FEType"><i class="alert alert-success"></i>FEType</a>
              </li>
              <li><a href="#relatedFramesType"><i class="alert alert-success"></i>relatedFramesType</a>
              </li>
              <li><a href="#memberFEtype"><i class="alert alert-success"></i>memberFEtype</a>
              </li>
              <li><a href="#lexUnit"><i class="alert alert-success"></i>lexUnit</a>
              </li>
              <li><a href="#hebPOSType"><i class="alert alert-success"></i>hebPOSType</a>
              </li>
              <li><a href="#corporaSchema"><i class="alert alert-success"></i>corporaSchema</a>
              </li>
              <li><a href="#hebFrameLUType"><i class="alert alert-success"></i>hebFrameLUType</a>
              </li>
              <li><a href="#hebFrameType"><i class="alert alert-success"></i>hebFrameType</a>
              </li>
              <li><a href="#heblexemeType"><i class="alert alert-success"></i>heblexemeType</a>
              </li>
              <li><a href="#wordType"><i class="alert alert-success"></i>wordType</a>
              </li>
              <li><a href="#ConllJson31Type"><i class="alert alert-success"></i>ConllJson31Type</a>
              </li>
              <li><a href="#hebsentenceType"><i class="alert alert-success"></i>hebsentenceType</a>
              </li>
              <li><a href="#heblayerType"><i class="alert alert-success"></i>heblayerType</a>
              </li>
              <li><a href="#annotatedSentenceType"><i class="alert alert-success"></i>annotatedSentenceType</a>
              </li>
              <li><a href="#luSentenceType"><i class="alert alert-success"></i>luSentenceType</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="span9">
          <div class="description"><p>data schemes<br />the idea is: each dataType in the DB will have it's own scheme.<br />             additionally - every scheme defines scheme unique methods (such as getters and setters) when needed - those methodes will be exposed to each object of the scheme<br />             in order to save\insert new document into the DB - we will firest define suitable model (by scheme) and then call the NEW operator with the document data.<br />             in order to query the DB - we will do modelName.find() \findOne() etc. - the result will be returned to the calledBack function sent</p> </div>
          <pre><code class="language-javascript">//TODO: think - every field that appears in the schema will always be pulled and saved and casted by it's defined type, if i delete the field - it won't apper if it's empty..
//maybe it's better to work with partial schemas
//TODO: add static methodes to the schemas - http://mongoosejs.com/docs/guide.html#staticss
console.log(&quot;DEBUG: loading schemes@&quot;);
var mongoose = require('mongoose'),
    Schema = mongoose.Schema,
    Model = mongoose.model;
var ObjectId = mongoose.Schema.Types.ObjectId;
//var Number = Schema.Types.Number;
//var Date = Schema.Types.Date;
var roleType = {type: String, enum:[&quot;annotator&quot;, &quot;reviewer&quot;,&quot;planner&quot;,&quot;admin&quot;]};

var userSchema = exports.userSchema = new Schema({
    username: String,
    password: String,
    firstName: String,
    lastName: String,
    email: String,
    roles: [roleType]
//	roles: Array
});

userSchema.methods.validPassword = function (password) {
	console.log(&quot;validating user in : userScheme&quot;);
	  if (password === this.password) {
	    return true; 
	  } else {
	    return false;
	  }
};</code></pre>
          <section id="IDType">
            <h1>IDType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>IDType</span>
            </p>
          </section>
          <div class="description"><p>english frame schema ande related subSchemes</p> </div>
          <pre><code class="language-javascript">var IDType = exports.IDType ={ type: Number, min: 0 } ; //TODO new schema
var orderType =  { type: Number, min: 0 }; //&quot;description&quot;: &quot;a numeric type to use for order specification (rank, paragraph order, etc.)&quot;,
var frameNameType = {type :String, match: /^[A-Z].*/}; //TODO: check correctness of regex
var dateTimeType = { required: true , type: Date, auto : true}; //match:  &quot;\d{2}/\d{2}/\d{4} \d{2}:\d{2}:\d{2} [A-Z]{3} (Sun|Mon|Tue|Wed|Thu|Fri|Sat)&quot;
var countType = { type: Number, min: 0 }; //&quot;description&quot;: &quot;a numeric type to use for pattern counts&quot;,
var POSType = {type: String, enum:  [ &quot;N&quot;,&quot;V&quot;, &quot;A&quot;, &quot;ADV&quot;,&quot;PRON&quot;,&quot;PREP&quot;,&quot;NUM&quot;,&quot;C&quot;,&quot;INTJ&quot;,&quot;ART&quot;,&quot;SCON&quot;,&quot;CCON&quot;,&quot;AVP&quot;]};
var defType = String;
//console.log(IDType);

var RGBColorType = {type: String, match: /^[0-9A-Fa-f]{6}/};
var coreType = {type: String, enum:[&quot;Core&quot;,&quot;Peripheral&quot;,&quot;Extra-Thematic&quot;,&quot;Core-Unexpressed&quot;]};


//var labelSpanType = new Schema({type: Number, min:0});//&quot;description&quot; : &quot;a numeric type to use for Label spans&quot;,
var labelSpanType = {type: Number, min:0};//&quot;description&quot; : &quot;a numeric type to use for Label spans&quot;,
var labelType = new Schema({
    &quot;@name&quot;: String,
    &quot;@start&quot;: labelSpanType,
    &quot;@end&quot;: labelSpanType,
    &quot;@fgColor&quot;: RGBColorType,
    &quot;@bgColor&quot;: RGBColorType,
    &quot;@itype&quot;: {type: &quot;string&quot;,enum: [&quot;APos&quot;,&quot;CNI&quot;,&quot;INI&quot;,&quot;DNI&quot;,&quot;INC&quot;]},
    &quot;@feID&quot;: Number,
    &quot;@cBy&quot;: String
});

var layerType ={
    &quot;label&quot;: [labelType],
    &quot;@name&quot;: String,
    &quot;@rank&quot;: orderType
};


var subCorpusType = {
    &quot;sentence&quot;: [sentenceType]
};


var extSentRefType = {type: Number, min: 0}; //			&quot;description&quot;: &quot;a numeric type to use for external references to sentences (aPos)&quot;,
var annotationSetType ={
    &quot;@ID&quot;: IDType,
    &quot;@status&quot;: String,
    &quot;@frameName&quot;: String,
    &quot;@frameID&quot;: IDType,
    &quot;@luName&quot;: String,
    &quot;@luID&quot;:IDType,
    &quot;@cxnName&quot;: String,
    &quot;@cxnID&quot;: IDType,
    &quot;@cDate&quot;: dateTimeType,
    &quot;layer&quot;: [layerType]
};
var annoSetType = {&quot;@ID&quot; : IDType};
var governorType = new Schema({
    &quot;annoSet&quot;: [annoSetType],
    &quot;@lemma&quot;: String,
    &quot;@type&quot;: String   //TODO: check for enum
});

var FEValenceType = {&quot;@name&quot;:String};
 var valenceUnitType = {
                 &quot;FE&quot;: String,
                 &quot;PT&quot;: String,
                 &quot;GF&quot;:String
 };
var FERealizationType  =new Schema({
    &quot;FE&quot;: FEValenceType,
    &quot;pattern&quot;:[{&quot;@total&quot;: countType, &quot;valenceUnit&quot;: valenceUnitType , &quot;annoSet&quot;: [annoSetType]}],
    &quot;@total&quot;: countType
});



var FEGroupRealizationType = new Schema({
            &quot;FE&quot;: [FEValenceType],
            &quot;pattern&quot;:[{&quot;@total&quot;: countType, &quot;valenceUnit&quot;: [valenceUnitType] , &quot;annoSet&quot;: [annoSetType]}],
            &quot;@total&quot;: countType
});



var valencesType = {
            &quot;governor&quot;: [governorType],
            &quot;FERealization&quot;:[FERealizationType],
            &quot;FEGroupRealization&quot;:[FEGroupRealizationType]
};

var sentenceType = {
    &quot;text&quot;: String,
    &quot;annotationSet&quot;: [annotationSetType],
    &quot;@ID&quot;: IDType,
    &quot;@aPos&quot;: extSentRefType,
    &quot;@paragNo&quot;: orderType,
    &quot;@sentNo&quot;: orderType,
    &quot;@docId&quot;: IDType,
    &quot;@corpID&quot;: IDType



};


var documentType = new Schema({&quot;@ID&quot;:IDType, &quot;@description&quot;: String});
var corpDocType = new Schema({
    &quot;@name&quot;: String,
    &quot;@ID&quot;:IDType,
    &quot;document&quot;: [documentType]
});

var headerType = {
    &quot;corpus&quot;: [corpDocType],
    &quot;frame&quot;:{
        &quot;FE&quot;:[new Schema({
            &quot;@fgColor&quot; : RGBColorType,
            &quot;@bgColor&quot; :RGBColorType,
            &quot;@type&quot; : coreType,
            &quot;@abbrev&quot; : String,
            &quot;@name&quot; : String
        })]
    }
};


//description&quot;: &quot;a string type for FE core types&quot;,</code></pre>
          <section id="semTypeRefType">
            <h1>semTypeRefType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>semTypeRefType</span>
            </p>
          </section>
          <div class="description"><p>semTypeRefType<br />same for english and hebrew</p> </div>
          <pre><code class="language-javascript">var semTypeRefType = {
    &quot;@name&quot;:String,
    &quot;@ID&quot;: IDType
};</code></pre>
          <section id="internalFrameRelationFEType">
            <h1>internalFrameRelationFEType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>internalFrameRelationFEType</span>
            </p>
          </section>
          <div class="description"><p>same in hebrew</p> </div>
          <pre><code class="language-javascript">var internalFrameRelationFEType = exports.internalFrameRElationFEType= new Schema({
    &quot;@name&quot;: String,
    &quot;@ID&quot;: {type: Number,min :0 }
});</code></pre>
          <section id="FEType">
            <h1>FEType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>FEType</span>
            </p>
          </section>
          <div class="description"><p>FEType<br />same in hebrew</p> </div>
          <pre><code class="language-javascript">var FEType = exports.FEType = new Schema({
    //&quot;definition&quot;: String,
    //&quot;semType&quot;: {type:[semTypeRefType], select: false},     //TODO - remove the select field
    &quot;requiresFE&quot;: [internalFrameRelationFEType],
    &quot;excludesFE&quot;: [internalFrameRelationFEType],
    &quot;@ID&quot;: IDType,
    &quot;@name&quot;: frameNameType,
    &quot;@abbrev&quot;: String,
    &quot;@cDate&quot;: dateTimeType,
    &quot;@cBy&quot;: String,
    &quot;@coreType&quot;: coreType,
    &quot;@fgColor&quot;: RGBColorType,
    &quot;@bgColor&quot;: RGBColorType
});</code></pre>
          <section id="relatedFramesType">
            <h1>relatedFramesType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>relatedFramesType</span>
            </p>
          </section>
          <div class="description"><p>relatedFramesType<br />same in hebrew</p> </div>
          <pre><code class="language-javascript">var relatedFramesType = {
    &quot;@type&quot;: String, //TODO: check if there are enums for this field
    &quot;relatedFrame&quot; : [frameNameType]
};
var lexemeType=  exports.lexemeType = {
    //description&quot; :&quot;an attributes-only lexeme element&quot;,
    &quot;@name&quot;: String,
    &quot;@POS&quot;: POSType,
    &quot;@breakBefore&quot;: Boolean,
    &quot;@headword&quot;: Boolean,
    &quot;@order&quot;: orderType
};



var frameLUType = exports.frameLUSchema= new Schema({

    //&quot;description&quot; : &quot;frame-embedded lexUnit type&quot;,
        &quot;definition&quot;: defType, //&quot;comment&quot;: &quot;has SOURCE then a colon followed by a string&quot;
        &quot;sentenceCount&quot;: {total: countType, annotated: countType},
        &quot;lexeme&quot;: [lexemeType],
        &quot;semType&quot;:[semTypeRefType],
        &quot;@cDate&quot;: dateTimeType,
        &quot;@cBy&quot;: String,
        &quot;@lemmaID&quot;: IDType,
        &quot;@ID&quot;: IDType,//IDType
        &quot;@name&quot;: {type : String, match: /^.+../}, //TODO: check correctness of regex
        &quot;@POS&quot;: POSType,
        &quot;@incorporatedFE&quot;: String,
        &quot;@status&quot;: {type: String, match: /^[A-Z].*/} //TODO: check correctness of regex
});</code></pre>
          <section id="memberFEtype">
            <h1>memberFEtype</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>memberFEtype</span>
            </p>
          </section>
          <div class="description"><p>memberFEtype<br />same in hebrew</p> </div>
          <pre><code class="language-javascript">var memberFEtype   = exports.memberFEtype = new Schema({
                    &quot;memberFE&quot;: [internalFrameRelationFEType]} //occurrences: 2+
                    );

var engFrameSchema = exports.engFrameSchema = new Schema(
    {&quot;frame&quot;: {
        &quot;_id&quot; : ObjectId,
        &quot;definition&quot;: defType,
        &quot;semType&quot;: [semTypeRefType],
        &quot;FE&quot;: [FEType] ,
        &quot;FEcoreSet&quot;: [memberFEtype], //occurrences: 0+
        &quot;frameRelation&quot;: [relatedFramesType],
        &quot;lexUnit&quot;: [frameLUType],
        &quot;@ID&quot;: IDType,
        &quot;@name&quot;: frameNameType,
        &quot;@cDate&quot;: dateTimeType,
        &quot;@cBy&quot;: String
    }
});</code></pre>
          <div class="description"><p>hebrew frame schema</p> </div>
          <section id="lexUnit">
            <h1>lexUnit</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>lexUnit</span>
            </p>
          </section>
          <div class="description"><p>english LU schema</p> </div>
          <pre><code class="language-javascript">var lexUnit = exports.lexUnit = new Schema({
    &quot;lexUnit&quot;:{
        &quot;@ID&quot;: IDType,
        &quot;@name&quot;: {type : String, match: /^.+../}, //TODO: check correctness of regex
        &quot;@status&quot;: {type: String, match: /^[A-Z].*/}, //TODO: check correctness of regex
        &quot;definition&quot;: defType, //TODO: correct the $ key in the DB
        &quot;header&quot;:headerType,
        &quot;@cDate&quot;: dateTimeType,
        &quot;@cBy&quot;: String,
        &quot;@lemmaID&quot;: IDType,
        &quot;@POS&quot;: POSType,
        &quot;@frameID&quot;:IDType,
        &quot;@frame&quot;: frameNameType,

        &quot;sentenceCount&quot;: {total: countType, annotated: countType},
        &quot;lexeme&quot;: [lexemeType],
        &quot;semType&quot;:[semTypeRefType],
        &quot;valences&quot;: valencesType,
        &quot;subCorpus&quot;: [subCorpusType],
        &quot;@incorporatedFE&quot;: String,
        &quot;totalAnnotated&quot;:countType
    }
});</code></pre>
          <div class="description"><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em></strong> hebrew schemes:<strong></em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em>*</strong></p> </div>
          <pre><code class="language-javascript">//missing: history, annotatorDecisions,inquiryType</code></pre>
          <section id="hebPOSType">
            <h1>hebPOSType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>hebPOSType</span>
            </p>
          </section>
          <div class="description"><p>general types</p> </div>
          <pre><code class="language-javascript">var hebPOSType = {required: true, type: String, enum:  [ &quot;N&quot;,&quot;V&quot;, &quot;A&quot;, &quot;ADV&quot;,&quot;PRON&quot;,&quot;PREP&quot;,&quot;NUM&quot;,&quot;C&quot;,&quot;INTJ&quot;,&quot;ART&quot;,&quot;SCON&quot;,&quot;CCON&quot;,&quot;AVP&quot;]};</code></pre>
          <div class="description"><p>hebrew LU schema</p> </div>
          <section id="corporaSchema">
            <h1>corporaSchema</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>corporaSchema</span>
            </p>
          </section>
          <div class="description"><p>hebrew corpora schema<br />"description":"contains information about the different corpora used.",</p> </div>
          <pre><code class="language-javascript">var corporaSchema = new Schema({
    &quot;id&quot;:IDType,
    &quot;name&quot;: String,
    &quot;description&quot;: String,
    &quot;status&quot;:{&quot;type&quot;:String, enum:[&quot;active&quot;,&quot;requested&quot;,&quot;unactive&quot;,&quot;wip&quot;]}
});</code></pre>
          <section id="hebFrameLUType">
            <h1>hebFrameLUType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>hebFrameLUType</span>
            </p>
          </section>
          <div class="description"><p>hebFrameLUType<br />"description":"frame-embedded lexUnit type",</p> </div>
          <pre><code class="language-javascript">var hebFrameLUType = exports.hebFrameLUType = new Schema({
    //&quot;_id&quot;: ObjectId,
    &quot;priority&quot;: Number,
    &quot;definition&quot;: defType,
    &quot;status&quot;:{type:String,enum: [&quot;approved&quot;,&quot;pending&quot;]},
    &quot;translatedFrom&quot;://&quot;description&quot;:&quot;holds information regarding the english lexical unit which this lexical unit was translated from&quot;,
    {
        &quot;frameId&quot;:IDType,
        &quot;lexUnitName&quot;:String,
        &quot;lexUnitID&quot; :IDType
    },
    //&quot;description&quot;:&quot;contains information regarding the sentences of this lexical unit&quot;,

    &quot;sentenceCount&quot;:{
        &quot;total&quot;:countType,
        &quot;annotated&quot;:countType
    },
    &quot;lexeme&quot;:[heblexemeType],
    &quot;semType&quot;:{type : [semTypeRefType], required: false},
    &quot;valences&quot;: valencesType,
    &quot;annotations&quot;:[IDType],
    //&quot;@ID&quot;:ObjectId,//{type: Number ,unique: true, auto: true},
    &quot;@name&quot;:{required: true, type: String, match: /^.+\..+/},
    &quot;@POS&quot;: hebPOSType,
    &quot;@lemmaID&quot;:IDType,
    &quot;@incorporatedFE&quot;:String,
    &quot;@status&quot;:{type: String, match: /^[A-Z].*/},
    &quot;@cDate&quot;: dateTimeType,
    &quot;@cBy&quot;:String
}); //{_id: false}</code></pre>
          <div class="description"><p>hebrew frame schema<br />"description":"Contains information about the frame: definition, priority,semantic type, frame elements, core frame element, frame relations, and lexical units; does not contain annotations.",</p> </div>
          <section id="hebFrameType">
            <h1>hebFrameType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>hebFrameType</span>
            </p>
          </section>
          <div class="description"><p>@type {Schema}</p> </div>
          <pre><code class="language-javascript">var hebFrameType = exports.hebFrameType = new Schema({
        &quot;@ID&quot;: IDType,
        &quot;@name&quot;: frameNameType,
        &quot;@cDate&quot;: dateTimeType,
        &quot;@cBy&quot;: String,
        &quot;definition&quot;: defType,
        &quot;source&quot; : String,
        &quot;priority&quot;: Number,
        &quot;semType&quot;:{type: [semTypeRefType], required: false}, //same type as english
        &quot;FE&quot;: [FEType] ,
        &quot;FEcoreSet&quot;: [memberFEtype], //occurrences: 0+
        &quot;frameRelation&quot;: [relatedFramesType],
        &quot;lexUnit&quot;: [hebFrameLUType]
});</code></pre>
          <section id="heblexemeType">
            <h1>heblexemeType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>heblexemeType</span>
            </p>
          </section>
          <div class="description"><p>"description":"an attributes-only lexeme element",</p> </div>
          <pre><code class="language-javascript">var heblexemeType =new Schema({
    &quot;name&quot;: String,
    &quot;POS&quot;:hebPOSType,
    &quot;breakBefore&quot;:Boolean,
    &quot;headword&quot;:Boolean,
    &quot;order&quot;:orderType
});



//var frameModel = mongoose.model('Frame', frame, 'frame');
//var frameModel = mongoose.model('hebFrames', hebFrameType, 'hebFrames');
//console.log(typeof(values(frameModel.schema.paths.lexUnit.schema.tree)[2]));
//console.log(values(hebFrameLUType.tree));
//console.log(hebFrameType)
//console.log(keys(hebFrameLUType.paths))
//console.log(&quot;values&quot;,values(hebFrameLUType))</code></pre>
          <section id="wordType">
            <h1>wordType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>wordType</span>
            </p>
          </section>
          <div class="description"><p>this is how the word (in a snetnece)is represented according to alon's search engine,<br />TODO: add description to each one of the fields</p> </div>
          <pre><code class="language-javascript">var wordType = new Schema({
    &quot;word&quot;: String,
    &quot;prefix&quot;: String,
    &quot;base&quot;: String,
    &quot;suffix&quot;: String,
    &quot;lemma&quot;: String,
    &quot;pos&quot;: String,
    &quot;postype&quot;: String,
    &quot;gender&quot;:{type : String, enum: ['m', 'f']},
    &quot;number&quot;:{type: String, enum: ['s','p','_']},// &quot;comment&quot; : &quot;singular/plural or non. check if plural is signaled by p!&quot;,
    &quot;construct&quot;: String,
    &quot;polarity&quot;: {type: String}, //  &quot;comment&quot; : &quot;probably contains: (pos) | (neg) | _&quot;
    &quot;person&quot;:{type: String, enum: ['1','2','3']},
    &quot;tense&quot;: String,
    &quot;def&quot;: Boolean,
    &quot;pconj&quot;: Boolean ,
    &quot;pint&quot;: Boolean,
    &quot;pprep&quot;: Boolean,
    &quot;psub&quot;: Boolean,
    &quot;ptemp&quot;: Boolean,
    &quot;prb&quot;: Boolean,
    &quot;suftype&quot;: String,
    &quot;sufgen&quot;: Boolean,
    &quot;sufnum&quot;: String,
    &quot;sufperson&quot;:{type: String, enum:['1','2','3']},
    &quot;chunk&quot;: String,
    &quot;height&quot;: Number,
    &quot;id&quot;: Number,
    &quot;parid&quot;: Number,
    &quot;pardist&quot;: Number,
    &quot;parpos&quot;: String,
    &quot;parword&quot;: String
});



//ConllJson31Type</code></pre>
          <section id="ConllJson31Type">
            <h1>ConllJson31Type</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>ConllJson31Type</span>
            </p>
          </section>
          <div class="description"><p>TODO: complete this according to alon's type - 31 json response<br />comment : "the json as received by alon's search tool",</p> </div>
          <pre><code class="language-javascript">var ConllJson31Type = new Schema({
    &quot;length&quot; : Number,
    &quot;height&quot; :Number,
    &quot;root_location&quot; :Number,
    &quot;root_pos&quot; : String,
    &quot;pattern&quot; :  String,
    &quot;words&quot; :[wordType],
    &quot;valid&quot;: Boolean,
    &quot;original&quot;: Boolean
});</code></pre>
          <section id="hebsentenceType">
            <h1>hebsentenceType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>hebsentenceType</span>
            </p>
          </section>
          <div class="description"><p>"description":"sentence will contaion the basic POS, parse trees and morphology along with list of annotationSet ids",</p> </div>
          <pre><code class="language-javascript">var hebsentenceType = exports.hebsentenceType = new Schema({
    &quot;text&quot;:String,
    &quot;Content&quot; : [ConllJson31Type], //array with possible segmentations of the sentence, only one will be marked as 'original' and one as 'valid'
    &quot;lus&quot;:[IDType],//save the related LU ids
    &quot;ID&quot;:IDType,
    &quot;source&quot;: {type: String, enum: [&quot;corpus&quot;, &quot;manual&quot;, &quot;translation&quot;]},
    //&quot;comment&quot;:&quot;sentences can also be manually inserted&quot;,
    &quot;sentenceOrigin&quot;: {
        &quot;aPos&quot;:extSentRefType,
        &quot;paragNo&quot;:orderType,
        &quot;sentNo&quot;:orderType,
        &quot;docId&quot;:IDType,
        &quot;corpID&quot;:IDType
    }
});


var heblabelType = new Schema({
    &quot;name&quot;:String,
    &quot;tokens&quot;:[Number],//&quot;comment&quot; : &quot;contains the index of the words found in the relevant sentence&quot;,
    &quot;fgColor&quot;:RGBColorType,
    &quot;bgColor&quot;:RGBColorType,
    // &quot;comment&quot;:&quot;for null instantiation&quot;,
    &quot;itype&quot;:{type: String, enum: [&quot;APos&quot;,&quot;CNI&quot;,&quot;INI&quot;,&quot;DNI&quot;,&quot;INC&quot;]},
    &quot;feID&quot;:IDType //contatins the relevant FE if this is part of FN annotation layer
});</code></pre>
          <section id="heblayerType">
            <h1>heblayerType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>heblayerType</span>
            </p>
          </section>
          <div class="description"><p>each layer will have it's own type (name) - dependency, FN annotations, constituency etc</p> </div>
          <pre><code class="language-javascript">var heblayerType = new Schema({
            &quot;label&quot;:[heblabelType],
            &quot;name&quot;:String,
            &quot;rank&quot;:orderType,
            &quot;status&quot;:{type: String, enum: [&quot;approved&quot;,&quot;decision&quot;,&quot;inquiry&quot;,&quot;temporary&quot;]}
});</code></pre>
          <div class="description"><p>each annotation will be embedded in a sentence and one of it's segmentation,<br />only the annotations which are related to the valid segmentation will be count as valid</p> </div>
          <section id="annotatedSentenceType">
            <h1>annotatedSentenceType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>annotatedSentenceType</span>
            </p>
          </section>
          <div class="description"><p>ar hebannotationSetType = exports.hebannotationSetType = new Schema({<br />    "ID":IDType,<br />    "sentenceID":IDType,<br />    "conllID": IDType,<br />//    "segmentation": segmentationType,<br />    "cDate": dateTimeType,<br />    "cBy": String, //username<br />    "layer":[heblayerType],<br />    "status":String<br />});</p> </div>
          <pre><code class="language-javascript">var annotatedSentenceType = new Schema({
    &quot;ID&quot;:IDType,//is it needed??? in the sentenceType - there is annotations list
    &quot;validVersion&quot; : Boolean,
    &quot;status&quot;: String,
    &quot;cDate&quot;: dateTimeType,
    &quot;cBy&quot;: String, //username
    &quot;sentenceId&quot; : IDType, //the id of the sentence in the sentences collection
    //&quot;sentenceContent&quot;: ConllJson31Type, //only the relevant one - the one which this annotation is being made on (the valid one!)
    &quot;versionNumber&quot; :Number, //each sentence has one or more versions - according to the original imported sentence and its corrections, only one of those will be valid
    //in case that this version is not valid  - all the annotation set will be marked as not valid
    &quot;layer&quot;:[heblayerType]
});</code></pre>
          <section id="luSentenceType">
            <h1>luSentenceType</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">declaration</div><span>luSentenceType</span>
            </p>
          </section>
          <div class="description"><p>"description":"this is a N-2-N relationshop table between LU and sentences - will contain all the annotations which are related to the pair",<br />a lu with sentence will be added to this list when a lu-sentence association is being created</p> </div>
          <pre><code class="language-javascript">var luSentenceType = exports.luSentenceType = new Schema({
    &quot;luId&quot;: IDType, //the id of the annotated lexical unit.
    &quot;luName&quot;: String, //optimization
    &quot;frameID&quot;: IDType, //the id of the frame which this lu is related to  (search and data retrieval optimization)
    &quot;annotations&quot;: [annotatedSentenceType]
});</code></pre>
          <div class="description"><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> translations schema <strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em>*</strong></p> </div>
          <pre><code class="language-javascript">//posTransType = [String];
var translationType =  {'pos' : String, 'vals' : [String]};

var translation = exports.translation = new Schema({
    &quot;luID&quot;: IDType, //the id of  lexical unit.
    &quot;frameID&quot;: IDType, //the id of the frame.
    &quot;pos&quot;: String, //part of speech of the lu
    &quot;name&quot;: String, //the 'name' it self (the actual form)
    &quot;translation&quot;: [translationType]
});</code></pre>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <p>Documentation generated with <a href="https://github.com/FGRibreau/doxx">Doxx </a>created by <a href="https://twitter.com/FGRibreau" data-show-count="false" class="twitter-follow-button">Francois-Guillaume Ribreau</a></p>
        <p>Doxx is sponsored by <a href="http://bringr.net/?btt" title="Outil d'analyse des rÃ©seaux sociaux" class="bringr">Bringr </a>and <a href="https://redsmin.com/?btt" title="Full Redis GUI" class="redsmin">Redsmin</a></p>
        <p>Theme borrowed from Twitter Bootstrap</p>
      </div>
    </footer>
    <script src="http://platform.twitter.com/widgets.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
    <script src="http://leaverou.github.com/prefixfree/prefixfree.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-transition.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-scrollspy.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-dropdown.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-collapse.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-affix.js"></script>
    <script>
      /**
       * Prism: Lightweight, robust, elegant syntax highlighting
       * MIT license http://www.opensource.org/licenses/mit-license.php/
       * @author Lea Verou http://lea.verou.me
       */(function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var s=i[e],o={};for(var u in s)if(s.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);o[u]=s[u]}return i[e]=o},DFS:function(e,n){for(var r in e){n.call(e,r,e[r]);t.util.type(e)==="Object"&&t.languages.DFS(e[r],n)}}},highlightAll:function(e,n){var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,s;s=r[i++];)t.highlightElement(s,e===!0,n)},highlightElement:function(r,i,s){var o,u,a=r;while(a&&!e.test(a.className))a=a.parentNode;if(a){o=(a.className.match(e)||[,""])[1];u=t.languages[o]}if(!u)return;r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+o;a=r.parentNode;/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var f=r.textContent;if(!f)return;f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g," ");var l={element:r,language:o,grammar:u,code:f};t.hooks.run("before-highlight",l);if(i&&self.Worker){var c=new Worker(t.filename);c.onmessage=function(e){l.highlightedCode=n.stringify(JSON.parse(e.data));l.element.innerHTML=l.highlightedCode;s&&s.call(l.element);t.hooks.run("after-highlight",l)};c.postMessage(JSON.stringify({language:l.language,code:l.code}))}else{l.highlightedCode=t.highlight(l.code,l.grammar);l.element.innerHTML=l.highlightedCode;s&&s.call(r);t.hooks.run("after-highlight",l)}},highlight:function(e,r){return n.stringify(t.tokenize(e,r))},tokenize:function(e,n){var r=t.Token,i=[e],s=n.rest;if(s){for(var o in s)n[o]=s[o];delete n.rest}e:for(var o in n){if(!n.hasOwnProperty(o)||!n[o])continue;var u=n[o],a=u.inside,f=!!u.lookbehind||0;u=u.pattern||u;for(var l=0;l<i.length;l++){var c=i[l];if(i.length>e.length)break e;if(c instanceof r)continue;u.lastIndex=0;var h=u.exec(c);if(h){f&&(f=h[1].length);var p=h.index-1+f,h=h[0].slice(f),d=h.length,v=p+d,m=c.slice(0,p+1),g=c.slice(v+1),y=[l,1];m&&y.push(m);var b=new r(o,a?t.tokenize(h,a):h);y.push(b);g&&y.push(g);Array.prototype.splice.apply(i,y)}}}return i},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[];r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(!r||!r.length)return;for(var i=0,s;s=r[i++];)s(n)}}},n=t.Token=function(e,t){this.type=e;this.content=t};n.stringify=function(e){if(typeof e=="string")return e;if(Object.prototype.toString.call(e)=="[object Array]"){for(var r=0;r<e.length;r++)e[r]=n.stringify(e[r]);return e.join("")}var i={type:e.type,content:n.stringify(e.content),tag:"span",classes:["token",e.type],attributes:{}};i.type=="comment"&&(i.attributes.spellcheck="true");t.hooks.run("wrap",i);var s="";for(var o in i.attributes)s+=o+'="'+(i.attributes[o]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+s+">"+i.content+"</"+i.tag+">"};if(!self.document){self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,i=n.code;self.postMessage(JSON.stringify(t.tokenize(i,t.languages[r])));self.close()},!1);return}var r=document.getElementsByTagName("script");r=r[r.length-1];if(r){t.filename=r.src;document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)}})();;
      Prism.languages.markup={comment:/&lt;!--[\w\W]*?--(&gt;|&gt;)/g,prolog:/&lt;\?.+?\?&gt;/,doctype:/&lt;!DOCTYPE.+?&gt;/,cdata:/&lt;!\[CDATA\[[\w\W]+?]]&gt;/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?&gt;/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|&gt;|"/g}},punctuation:/\/?&gt;/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi};Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});;
      Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:/@[\w-]+?(\s+[^;{]+)?(?=\s*{|\s*;)/gi,url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,property:/(\b|\B)[a-z-]+(?=\s*:)/ig,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g};Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}});;
      Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};;
      Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,number:/\b(-?(0x)?\d*\.?[\da-f]+|NaN|-?Infinity)\b/g});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}});Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}});;
      
    </script>
    <!-- App js-->
    <script>
      $(function(){
        var $window = $(window);
        $('.scrollspy .nav').affix({
          offset: {
            top: function () { return $window.width() <= 980 ? 480 : 400 }
          , bottom: 50
          }
        });
      })
    </script>
  </body>
</html>